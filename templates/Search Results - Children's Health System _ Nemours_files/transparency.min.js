window.ProviderConnections={},window.ProviderConnections.Transparency={},window.ProviderConnections.Tools={},window.ProviderConnections.Transparency.Models={},function(){"use strict";var e=window.ProviderConnections.Tools.Array={filter:function(e,t){var n,o,i,r=[];for(n=0,o=e.length;o>n;++n)i=e[n],t(i,n)&&r.push(i);return r},first:function(e,t){var n,o,i;for(n=0,o=e.length;o>n;++n)if(i=t(e[n],n))return i},clone:function(e){return Array.prototype.slice.call(e)},concat:function(){var t=[];return e.each(arguments,function(e){t.push.apply(t,e)}),t},each:function(e,t){var n,o;for(n=0,o=e.length;o>n;++n)t(e[n],n)},map:function(e,t){var n,o,i=[];for(n=0,o=e.length;o>n;++n)i.push(t(e[n],n));return i},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},indexOf:function(e,t){var n=e.length>>>0,o=Number(arguments[2])||0;for(o=0>o?Math.ceil(o):Math.floor(o),0>o&&(o+=n);n>o;o++)if(o in e&&e[o]===t)return o;return-1}}}(),function(){"use strict";var e=ProviderConnections.Tools.Helpers={};e.isIE8OrBelow=function(){return window.attachEvent&&!window.addEventListener},e.onload=function(e){this.isIE8OrBelow()?window.attachEvent("onload",e):window.addEventListener("DOMContentLoaded",e,!1)}}(),function(){"use strict";window.ProviderConnections||(window.ProviderConnections={}),ProviderConnections.Tools||(ProviderConnections.Tools={});var e=ProviderConnections.Tools.Shims={};e.isNode=function(e){return e&&"undefined"!=typeof e.nodeType};var t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=new Date("2011-06-02T09:34:29+02:00");e.parseDate=n&&1307000069e3===+n?function(e){return isNaN(Date.parse(e))?0/0:new Date(e)}:function(e){var t,n,o=/^(\d{4}\-\d\d\-\d\d([tT ][\d:\.]*)?)([zZ]|([+\-])(\d\d):(\d\d))?$/,i=o.exec(e)||[];if(i[1]){t=i[1].split(/\D/);for(var r=0,a=t.length;a>r;r++)t[r]=parseInt(t[r],10)||0;return t[1]-=1,t=new Date(Date.UTC.apply(Date,t)),t.getDate()?(i[5]&&(n=60*parseInt(i[5],10),i[6]&&(n+=parseInt(i[6],10)),"+"==i[4]&&(n*=-1),n&&t.setUTCMinutes(t.getUTCMinutes()+n)),t):0/0}return 0/0},e.formatDate=function(e,n,o){if(!isNaN(Date.parse(e))){n="short"===n?3:10;var i=t[e.getMonth()].slice(0,n);if(i+=" "+e.getDate(),i+=", "+e.getFullYear(),o){var r=e.getHours(),a=e.getMinutes(),s=r>=12&&23>=r?"pm":"am";r=r>12?r-12:r,a=10>a?"0"+a:a,i+=" at "+r+":"+a+s}return i}return"Â "},e.getStringDate=function(e){var n=e;if(!isNaN(Date.parse(e))&&n.length>10){var o=n.substring(0,10).split("-"),i=Number(o[1]),r=Number(o[2]),a=o[0],s=t[i-1].slice(0,3);n=s+" "+r+", "+a}return n},e.getDateObject=function(e){var n;if(!isNaN(Date.parse(e))&&e.length>10){var o=e.substring(0,10).split("-"),i=Number(o[1]);n={month:t[i-1].slice(0,3),day:Number(o[2]),year:o[0]}}return n}}(),function(){var e=ProviderConnections.Transparency.Models;e.CommentSentiment=function(t){switch(t){case e.CommentSentiment.Mixed:this.name="Neutral";break;case e.CommentSentiment.Neutral:case e.CommentSentiment.Positive:case e.CommentSentiment.Negative:case e.CommentSentiment.VeryPositive:case e.CommentSentiment.VeryNegative:this.name=t;break;default:this.name=null}},e.CommentSentiment.Positive="Positive",e.CommentSentiment.Mixed="Mixed",e.CommentSentiment.Negative="Negative",e.CommentSentiment.Neutral="Neutral",e.CommentSentiment.VeryPositive="Very Positive",e.CommentSentiment.VeryNegative="Very Negative"}(),ProviderConnections.Transparency.Models.MicroDataType=function(){"use strict";var e={};return e.None="none",e.Partial="partial",e.Full="full",e}(),function(){"use strict";function e(e){var t={};return n.each(e.split("&"),function(e){var o,i;o=e.split("="),2===o.length&&(i=t[o[0]],void 0===i?t[o[0]]=o[1].split(","):n.each(o[1].split(","),function(e){i.push(e)}))}),t}function t(e){var t,n;n="";for(t in e)Object.hasOwnProperty.call(e,t)&&e[t]&&(n.length&&(n+="&"),n+=e[t].join?t+"="+e[t].join(","):t+"="+e[t]);return n}var n,o,i;o=ProviderConnections.Tools.Ajax={},n=ProviderConnections.Tools.Array,o.callbacks=[],i="ProviderConnections.Tools.Ajax.callbacks",o.Jsonp=function(n,r,a){var s,c,l;if(s=o.callbacks.length,o.callbacks.push(function(e){e.error?"function"==typeof r.error&&r.error(e.error):"function"==typeof r.success&&r.success(e.success)}),l=n.split("?"),c=e(l[1]||""),c.type=["application/javascript"],c.callback=[i+"["+s+"]"],a)for(var m in a)m&&a.hasOwnProperty(m)&&(c[m]=a[m]);n=l[0]+"?";var p=document.createElement("script");p.src=n+t(c),p.async=!0,p.type="text/javascript",document.body.appendChild(p)}}(),function(){"use strict";var e=ProviderConnections.Tools.Dom={},t=ProviderConnections.Tools.Array,n=ProviderConnections.Tools.Shims,o=function(e,t){var n;for(n in e)Object.hasOwnProperty.call(e,n)&&t(n,e[n])};e.replace=function(t,n){return t?n?void t.parentNode.replaceChild(n,t):void e.remove(t):void 0},e.remove=function(o){o&&(n.isNode(o)?o.parentNode.removeChild(o):o.length&&t.each(o,e.remove))},e.getById=function(e,t){return t=t||document,t.getElementById(e)},e.getByClass=function(e,t){if(t=t||document,document.getElementsByClassName)return Array.prototype.slice.call(t.getElementsByClassName(e));e="."+e;for(var n=t.querySelectorAll(e),o=[],i=0;i<n.length;i++)o.push(n.item(i));return o},e.create=function(e){var t,i,r,a,s,c;if(c=function(e,t){r.style[e]=t},s=function(e,t){switch(e){case"className":r.className=t;break;case"style":o(t,c);break;default:"function"==typeof t?r[e]=t:t&&void 0!==t.value?(void 0===t.includeProp||t.includeProp)&&r.setAttribute(e,t.value):r.setAttribute(e,t)}},r=document.createElement(e),arguments.length>1)for(t=1,i=arguments.length;i>t;++t)if(a=arguments[t])if(n.isNode(a))r.appendChild(arguments[t]);else if("function"==typeof a){if(!a())return null}else"string"==typeof a?r.appendChild(document.createTextNode(a)):o(a,s);return r}}(),function(){"use strict";var e=ProviderConnections.Transparency.Models,t=ProviderConnections.Tools.Shims;e.Comment=function(n){this.date=t.getDateObject(n.date),this.fiveStarRating=n.fiveStarRating,this.text=n.text,this.source=n.source,this.isEdited=n.isEdited,this.lastEditReason="*"+n.lastEditReason,this.paginationId=n.paginationId,this.sentiment=new e.CommentSentiment(n.sentiment),this.label=n.label,this.delayedForDisplay=n.delayedForDisplay,this.publicDisplayDate=t.parseDate(n.publicDisplayDate)}}(),window.ProviderConnections.Transparency.DomModels={},function(){"use strict";var e=ProviderConnections.Transparency.Models,t=ProviderConnections.Tools.Array,n=ProviderConnections.Tools.Ajax.Jsonp;e.Comments=function(n){n&&0!==n.length&&(this.comments=t.map(n.comments,function(t){return new e.Comment(t)}),this.ratingBreakdown=n.ratingBreakdown,this.nextPageUrl=n.nextPage,this.hasNextPage=!!n.nextPage)},e.Comments.prototype.getNextPage=function(t){this.hasNextPage&&n(this.nextPageUrl,{error:t.error,success:function(n){t.success(new e.Comments(n))}})}}(),function(){"use strict";function e(){var e=document.querySelectorAll(".px-topCommentsLink");if(e)for(var n=0;n<e.length;n++){var o=e[n],i=t(o);o.style.visibility=i?"hidden":"visible"}}function t(e){for(var t,n,o=e.parentNode,i=0;-1==o.className.indexOf("px-comments-container");)if(o=o.parentNode,i++,i>10)return!0;return t=o.querySelector("[id^=px-firstComment]"),n=t.getBoundingClientRect(),n.top>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)}var n=ProviderConnections.Transparency.DomModels.TopLinkHelper={},o=ProviderConnections.Tools.Helpers;n.topLinkEventListeners=function(){o.isIE8OrBelow()?window.attachEvent("onscroll",e):(window.addEventListener("orientationChange",e),window.addEventListener("scroll",e))},n.topLinkVisiblity=function(){e()}}(),function(){"use strict";var e=ProviderConnections.Transparency.DomModels.WidgetStyles={};e.setHistogramStyle=function(e){this.histogramStyle={stars:[{name:"fiveStars",number:"5"},{name:"fourStars",number:"4"},{name:"threeStars",number:"3"},{name:"twoStars",number:"2"},{name:"oneStar",number:"1"}]},"4plus"==e.config.histogramStyle&&(this.histogramStyle={stars:[{name:"fourStarsPlus",number:"4+"},{name:"threeStars",number:"3"},{name:"twoStars",number:"2"},{name:"oneStar",number:"1"}]})}}(),function(){"use strict";var e=ProviderConnections.Transparency.Models;e.Question=function(e){this.label=e.label,this.totalRatings=e.totalRatings,this.fiveStarRatings=e.fiveStarRating,this.surveyStart=e.surveyStart,this.surveyEnd=e.surveyEnd}}(),function(){"use strict";var e=ProviderConnections.Transparency.Models,t=ProviderConnections.Tools.Ajax.Jsonp;e.RatingBreakdownSection=function(e){this.viewUrl=e.view,this.count=e.count,this.percentage=e.percentage},e.RatingBreakdownSection.prototype.getComments=function(n){t(this.viewUrl,{error:n.error,success:function(t){n.success(new e.Comments(t))}})}}(),function(){"use strict";function e(e,t,n){var r=e+"/content/images/transparency/",a=i.create("div",{className:"px-sentimentLegend"},i.create("strong",{className:"px-sentimentLegendTitle"},"Comment Legend")),s="PG"==t?["Positive","Neutral","Negative"]:["Very positive","Positive","Neutral","Negative","Very negative"],c=function(e){var o=e.replace(" ","-").toLowerCase(),a="Neutral"==e?"Mixed or neutral comment":e+" comment";if("PG"==t&&"Neutral"!=e&&(o="very-"+o),"Font"==n)var s="px-"+o+"-icon";return"Img"==n?i.create("div",{className:"px-sentimentLegendItem"},i.create("img",{className:"px-sentimentLegendItem",height:20,src:r+o+".png",alt:a,title:a}),a):i.create("div",{className:"px-sentimentLegendItem"},i.create("span",{className:"px-icon "+s,title:a}),a)};return o.each(s,function(e){a.appendChild(c(e))}),a}function t(){return i.create("div",{style:{clear:"both"}})}var n=ProviderConnections.Transparency.DomModels,o=ProviderConnections.Tools.Array,i=ProviderConnections.Tools.Dom,r=i.create,a=ProviderConnections.Transparency.DomModels.TopLinkHelper,s=ProviderConnections.Tools.Shims,c=ProviderConnections.Transparency.Models;n.SectionDomModel=function(o,a,s,l,m){var p=this,d=r("div",{className:"px-section"});if(p.host=a.config.host,p.client=a,p.section=o,p.sectionCount=s,p.random=l,p.target=m,p.legend=e(a.config.host,p.client.config.sentimentDataOption,p.client.config.sentimentIconOption),p.fragment=r("div",{className:"px-section-container"},r("strong",{className:"px-section-label"},p.section.label,function(){return!1})),p.seeMoreLink=null,p.moreTopContainer=null,p.topCommentLink=null,p.ratings=[],p.fragment.appendChild(d),p.includeMicrodata=p.client.config.includeMicrodata!==c.MicroDataType.None,o.questions&&(p.questionsFragment=p.questionsElement(p.section.questions),d.appendChild(p.questionsFragment)),p.section.commentSection&&p.section.commentSection.comments){p.commentsFragment=i.create("div",{className:"px-comments-container"}),p.comments=i.create("div",{className:"px-comments"}),p.legendWrapper=i.create("div",{className:"px-legendWrapper"}),p.histogramLegendBorder=i.create("div",{className:"px-histogram-legend-border"}),o.questions&&p.section.commentSection.comments&&d.appendChild(r("div",{className:"px-border"}));var u=p.section.commentSection.ratingBreakdown.totalRatings;u&&a.config.includeHistogram&&(p.histogram=new n.Histogram(p,a,new c.RatingBreakdown(p.section.commentSection.ratingBreakdown,a)),p.commentsFragment.appendChild(p.histogram.fragment)),p.client.config.includeSentiment&&(p.legendWrapper.appendChild(p.legend),p.commentsFragment.appendChild(p.legendWrapper)),p.commentsFragment.appendChild(t()),(p.client.config.includeSentiment||p.client.config.includeHistogram)&&p.commentsFragment.appendChild(p.histogramLegendBorder),p.commentsFragment.appendChild(p.comments);var g=p.section.commentSection.hasNextPage?function(e){p.section.commentSection.getNextPage(e)}:null;p.appendComments(p.section.commentSection.comments,g),d.appendChild(p.commentsFragment)}},n.SectionDomModel.prototype.appendComments=function(e,t){var n=this,r=0,s=document.getElementById("px-firstComment-"+n.sectionCount+"_"+n.random),c=o.map(e,function(e){return n.commentElement(e)});n.comments.removeAttribute("style"),i.remove(this.seeMoreLink),this.seeMoreLink=null,i.remove(n.topCommentLink),n.topCommentLink=null,o.each(c,function(e){r++,1!=r||s||e.setAttribute("id","px-firstComment-"+n.sectionCount+"_"+n.random),n.comments.appendChild(e)}),document.getElementById("px-moreTopContainer-"+n.sectionCount+"_"+n.random)?(i.remove(n.moreTopContainer),n.comments.appendChild(n.moreTopContainer)):(n.moreTopContainer=i.create("div",{id:"px-moreTopContainer-"+n.sectionCount+"_"+n.random}),n.comments.appendChild(n.moreTopContainer)),n.topCommentLink=n.topCommentLinkElement(n.sectionCount,n.random),n.moreTopContainer.appendChild(n.topCommentLink),n.moreTopContainer.querySelector(".px-arrow-up").innerHTML="&#x25B2;",a.topLinkVisiblity(),t&&(n.seeMoreLink=n.seeMoreLinkElement(function(){t({error:function(){i.remove(n.seeMoreLink),i.remove(n.topCommentLink)},success:function(e){var t;e.hasNextPage&&(t=function(t){e.getNextPage(t)}),n.appendComments(e.comments,t)}})}),n.moreTopContainer.appendChild(n.seeMoreLink),n.moreTopContainer.querySelector(".px-arrow-down").innerHTML="&#x25BC;")},n.SectionDomModel.prototype.clearComments=function(){var e=this;for(i.remove(e.seeMoreLink),e.seeMoreLink=null,e.comments.style.height=e.comments.offsetHeight,e.comments.setAttribute("style","height:"+e.comments.offsetHeight+"px");e.comments.firstChild;)e.comments.removeChild(e.comments.firstChild)},n.SectionDomModel.prototype.commentElement=function(e){var t,n,o,i,a=this,c="",l=a.host+"/content/images/transparency/",m=a.client.config.includeSentiment,p=a.client.config.sentimentDataOption,d=a.client.config.sentimentIconOption,u="";if(null!=e.date&&(u=r("em",{className:"px-date",itemprop:{value:"dateCreated",includeProp:a.includeMicrodata}},r("span",{className:"px-month"},e.date.month+" "),r("span",{className:"px-day"},e.date.day+", "),r("span",{className:"px-year"},e.date.year))),m&&e.sentiment.name)if(o=e.sentiment.name.toLowerCase(),t="This comment is "+o+".",i="PG"==p&&"neutral"!=o?"very-"+o:o,i=i.replace(" ","-"),"Img"==d){var g=l+i+".png";g.length>0&&(c=r("img",{className:"px-sentiment",src:g,alt:t,title:t}))}else{var f="px-"+i+"-icon";f.length>0&&(c=r("span",{className:"px-sentiment"},r("span",{className:"px-icon "+f,title:t})))}return n=e.label?r("div",r("div",r("strong",{className:"px-comment-label"},e.label)),r("em",{className:"px-source",itemprop:{value:"author",includeProp:a.includeMicrodata}},e.source,function(){return""!==e.source})):r("div",r("em",{className:"px-source",itemprop:{value:"author",includeProp:a.includeMicrodata}},e.source,function(){return""!==e.source})),r("div",{className:"px-comment-wrapper px-fadeIn-quick",itemscope:{value:"itemscope",includeProp:a.includeMicrodata},itemtype:{value:"https://schema.org/Review",includeProp:a.includeMicrodata},itemprop:{value:"review",includeProp:a.includeMicrodata}},r("meta",{itemprop:"itemReviewed",content:a.client.config.microDataItemReviewed},function(){return a.includeMicrodata&&a.client.config.microDataItemReviewed}),r("div",{className:"px-comment-stars-date-wrapper"},this.starRatingElement(e.fiveStarRating,null,!0),u),r("div",{className:"px-delayed-for-display"},"Comment will be publicly displayed no sooner than "+s.formatDate(e.publicDisplayDate,"short",!0),function(){return e.delayedForDisplay}),r("div",{className:"px-comment-body"+(e.delayedForDisplay?" px-delayed-for-display-highlight":"")},n,r("div",{className:"px-comment-text-Wrapper"},c,r("div",{className:"px-comment-text",itemprop:{value:"reviewBody",includeProp:a.includeMicrodata}},e.text),r("em",{className:"px-editedReason"},e.lastEditReason,function(){return e.isEdited}))))},n.SectionDomModel.prototype.questionsElement=function(e){var t=this,n=r("div",{className:"px-questions-container"}),i=r("div",{className:"px-questions px-cf"});return n.appendChild(i),o.each(e.questions,function(e){i.appendChild(t.questionElement(e))}),n},n.SectionDomModel.prototype.questionElement=function(e){return r("div",{className:"px-question px-col-md-4 px-col-sm-6 px-col-6"},r("div",e.label),this.starRatingElement(e.fiveStarRatings,e.totalRatings,!1))},n.SectionDomModel.prototype.seeMoreLinkElement=function(e){var t=i.create("span",{className:"px-arrow-down"}),n=i.create("a","See more Comments",{href:"#",onclick:function(t){return t&&t.preventDefault(),e(),!1}});return i.create("div",{className:"px-moreCommentsLink"},n,t)},n.SectionDomModel.prototype.topCommentLinkElement=function(e,t){var n=i.create("span",{className:"px-arrow-up"}),o=i.create("a","Top",{href:"#px-firstComment-"+e+"_"+t});return i.create("div",{className:"px-topCommentsLink"},o,n)},n.SectionDomModel.prototype.starRatingElement=function(e,t,o){var i=this,a=(i.client.config,!!e),s=(o&&i.includeMicrodata,"Font"===i.client.config.starType?new n.FontStarBarModel(e,i.client,i.target):new n.ImageStarBarModel(e,i.client,o));return this.ratings.push(s),a?r("div",{className:o?"px-ratingHolder-comments":"px-ratingHolder"},s.fragment,r("strong",{className:"px-rating-score"},r("em",e+" out of 5"),function(){return!o})):void 0}}(),function(){"use strict";var e=ProviderConnections.Transparency.Models,t=ProviderConnections.Tools.Array;e.Questions=function(n){n&&0!=n.length&&(this.questions=t.map(n,function(t){return new e.Question(t)}))}}(),function(){"use strict";var e=ProviderConnections.Transparency.Models,t=ProviderConnections.Tools.Array,n=ProviderConnections.Transparency.DomModels.WidgetStyles;e.RatingBreakdown=function(o,i){var r=[],a=this;n.setHistogramStyle(i);for(var s=0;s<n.histogramStyle.stars.length;s++)r.push(n.histogramStyle.stars[s].name);t.each(r,function(t){a[t]=new e.RatingBreakdownSection(o[t])}),this.totalRatings=o.totalRatings}}(),function(){"use strict";function e(e,t,o){var i,r,a;return a=e.page,i=o+" star",1!==o&&(i+="s"),r=function(n){return n&&n.preventDefault(),e.removeFilter.style.display="block",e.filterHeaderText.innerHTML=o+" Star Reviews Only:",a.clearComments(),t.getComments({success:function(e){var t;e.hasNextPage&&(t=function(t){e.getNextPage(t)}),a.appendComments(e.comments,t)}}),!1},0!==t.count?n.create("tr",{className:"px-histogram-row"},n.create("td",{className:"px-nowrap"},n.create("a",{className:"px-starFilterLink",href:"#",title:o+" star",onclick:r},i,n.create("span",{}))),n.create("td",{className:"px-span"},n.create("a",{href:"#",onclick:r},n.create("div",{className:"px-meter px-"+o+"star","aria-label":t.percentage+"%",style:{borderBottomColor:e.client.config.backgroundColor}},n.create("div",{className:"px-meter-bar",style:{width:t.percentage+"%",borderBottomColor:e.client.config.foregroundColor}})))),n.create("td",{className:"px-nowrap"},n.create("a",{className:"px-histogram-review-count",href:"#",onclick:r},"("+t.count+")"),n.create("span",{}))):n.create("tr",{className:"px-histogram-row"},n.create("td",{className:"px-nowrap"},i,n.create("span",{})),n.create("td",{className:"px-span"},n.create("div",{className:"px-meter","aria-label":"0%",style:{borderBottomColor:e.client.config.backgroundColor}},n.create("div",{className:"px-meter-bar",style:{width:0,borderBottomColor:e.client.config.foregroundColor}}))),n.create("td",{className:"px-histogram-review-count"},"(0)",n.create("span",{})))}var t=ProviderConnections.Transparency.DomModels,n=ProviderConnections.Tools.Dom,o=ProviderConnections.Tools.Array,i=t.WidgetStyles;t.Histogram=function(e,t,n){i.setHistogramStyle(t),this.totalComments=n.totalRatings,this.page=e,this.ratingBreakdown=n,this.client=t,this.initFragment()},t.Histogram.prototype.initFragment=function(){var t=this,r=n.create("tbody");o.each(i.histogramStyle.stars,function(n){r.appendChild(e(t,t.ratingBreakdown[n.name],n.number))}),this.removeFilter=n.create("div",{className:"px-remove-filter"},n.create("a",n.create("img",{className:"px-remove-filter-checkbox",src:"/content/images/transparency/checkboxRemove.gif",onerror:function(){n.remove(this)}}),"(remove filter)",{className:"px-remove-filter-link",href:"#",onclick:function(e){return e&&(e.preventDefault(),t.removeFilter.style.display="none",t.filterHeaderText.innerHTML="Filter Reviews By:"),t.client.getSectionComments({error:function(){t.page.clearComments()},success:function(e){var n;e.hasNextPage&&(n=function(t){e.getNextPage(t)}),t.page.clearComments(),t.page.appendComments(e.comments,n)},sectionId:t.page.section.id}),!1}})),this.filterHeaderText=n.create("strong",{className:"px-histogram-header"},"Filter Reviews By:"),this.fragment=n.create("div",{className:"px-histogram-wrapper"},n.create("div",{className:"px-histogram-header-wrapper"},this.filterHeaderText,this.removeFilter),n.create("div",{style:{clear:"both"}}),n.create("table",{className:"px-histogram"},r))}}(),function(){"use strict";var e=ProviderConnections.Transparency.DomModels,t=ProviderConnections.Tools.Array,n=ProviderConnections.Tools.Dom,o=n.create;e.SearchDomModel=function(e,t,n){this.sections=e,this.fragment=this.createSearchWidget(e),this.filterCb=n},e.SearchDomModel.prototype.filter=function(){var e=t.map(n.getByClass("px-selected",this.fragment),function(e){return parseInt(n.getByClass("option",e)[0].getAttribute("data-section-id"),10)});this.filterCb&&this.filterCb(e)},e.SearchDomModel.prototype.createSearchWidget=function(){var e=this,n=o("div",{className:"px-faceted-search px-col-sm-3 px-col-3"}),i=o("div",{className:"px-faceted-options-container"}),r=o("ul",{className:"px-faceted-options"}),a=o("strong",{className:"px-faceted-search-header"},"Filter By Section");return n.appendChild(a),n.appendChild(i),i.appendChild(r),t.each(this.sections,function(t){r.appendChild(e.createFacetedOption(t))}),n},e.SearchDomModel.prototype.createFacetedOption=function(e){var t=this;return o("li",{className:"px-unselected",onclick:function(e){e&&e.preventDefault(),this.className=-1!=this.className.indexOf("px-selected")?"px-unselected":"px-selected",t.filter()},onmouseover:function(){this.className+=-1!=this.className.indexOf("px-selected")?" px-hover-selected":" px-hover-unselected"},onmouseout:function(){this.className=-1!=this.className.indexOf("px-selected")?"px-selected":"px-unselected"}},o("a",{className:"option","data-section-id":e.id,href:"#"},e.label))}}(),function(){"use strict";var e=ProviderConnections.Transparency.DomModels,t=ProviderConnections.Tools.Array,n=ProviderConnections.Tools.Dom,o=n.create;e.SectionsDomModel=function(n,i,r){var a=this,s=(n.length>1,0),c=n.length>1?"px-col-sm-9":"",l=Math.floor(1e5*Math.random()+1);a.sections=[],a.target=r,a.fragment=o("div",{className:"px-sections "+c}),t.each(n,function(t){t.provider=n.provider;var o=new e.SectionDomModel(t,i,s,l,r);a.sections.push(o),a.fragment.appendChild(o.fragment),s++})},e.SectionsDomModel.prototype.filterBySection=function(e){var n=this,o=0===e.length;t.filter(n.sections,function(n){n.fragment.style.display=o||-1!==t.indexOf(e,n.section.id)?"block":"none"})}}(),function(){"use strict";var e=ProviderConnections.Transparency.Models;e.Aggregate=function(e){this.fiveStarRating=e.fiveStarRating,this.numberOfRatings=e.numberOfRatings,this.numberOfComments=e.numberOfComments,this.summaryUrl=e.summary,this.provider=e.provider},e.Aggregate.prototype.getSummary=function(e){jsonp(this.summaryUrl,{error:e.error,success:function(t){e.success(new Summary(t))}})}}(),function(){"use strict";var e=ProviderConnections.Transparency.Models;e.Rollup=function(e){this.overallRating=e.OverallRating,this.totalRatings=e.TotalRatings}}(),function(){"use strict";var e=ProviderConnections.Transparency.Models;e.Section=function(t,n){this.label=t.label,this.id=t.id,this.commentSection=!n.config.isQuestionsOnly&&t.commentSection?new e.Comments(t.commentSection):null,this.questions=!n.config.isCommentsOnly&&t.questions&&t.questions.length>0?new e.Questions(t.questions):null,this.provider=t.provider}}(),function(){"use strict";var e,t,n,o,i;o=ProviderConnections,t=o.Tools.Ajax.Jsonp,e=ProviderConnections.Tools.Array,n=ProviderConnections.Tools.Helpers,i=ProviderConnections.Transparency.Models,o.Transparency.ApiClient=function(e){this.config={host:e.host,baseUrl:e.host+"/webfeed/transparency/v2",query:e.query,npi:e.npi,providerId:e.providerId,starType:e.starType,sentimentDataOption:e.sentimentDataOption,sentimentIconOption:e.sentimentIconOption,providerMicroDataId:e.providerMicroDataId,foregroundColor:e.foregroundColor,backgroundColor:e.backgroundColor,ratingRounding:e.ratingRounding,ratingCount:e.ratingCount,commentCount:e.commentCount,delayBeforeDisplaying:e.delayBeforeDisplaying,showDelayedComments:e.showDelayedComments,starCount:e.starCount,includeMicrodata:e.includeMicrodata,commentPageSize:e.commentPageSize,includeHistogram:e.includeHistogram,includeSentiment:e.includeSentiment,isCommentsOnly:e.isCommentsOnly,isQuestionsOnly:e.isQuestionsOnly,onResponse:e.onResponse,histogramStyle:e.histogramStyle,microDataItemReviewed:e.microDataItemReviewed}},o.Transparency.ApiClient.prototype.goToUrl=function(e,t){var n=this.config.baseUrl+e;return this.config.providerId?n+="?providerId="+this.config.providerId:this.config.npi?n+="?npi="+this.config.npi:this.config.query&&(n+="?"+this.config.query),void 0!==this.config.ratingRounding&&(n+="&ratingRounding="+this.config.ratingRounding),void 0!==this.config.ratingCount&&(n+="&ratingCount="+this.config.ratingCount),void 0!==this.config.commentCount&&(n+="&commentCount="+this.config.commentCount),void 0!==this.config.delayBeforeDisplaying&&(n+="&delayBeforeDisplaying="+this.config.delayBeforeDisplaying),void 0!==this.config.showDelayedComments&&(n+="&showDelayedComments="+this.config.showDelayedComments),void 0!==this.config.starCount&&(n+="&starCount="+this.config.starCount),void 0!==this.config.commentPageSize&&(n+="&commentPageSize="+this.config.commentPageSize),void 0!==t&&(n+="&sectionId="+t),this.config.isCommentsOnly&&(n+="&failForCommentCount=true"),this.config.isQuestionsOnly&&(n+="&failForQuestionCount=true"),n},o.Transparency.ApiClient.prototype.jsonRequest=function(e,n,o,i,r){i&&(o=function(t){return t.widgetType=r,e(t)}),t(this.goToUrl(n),{error:function(t){return t.widgetType=r,t.error=t.message,"function"!=typeof e.error?e(t):void e.error(t)},success:o})},o.Transparency.ApiClient.prototype.getRollup=function(e,t){var n=function(t){var n=new i.Rollup(t);n.widgetType="rollup",e.success(n)};this.jsonRequest(e,"/rollup",n,t,"rollup")},o.Transparency.ApiClient.prototype.getAggregate=function(e,t){var n=function(t){var n=new i.Aggregate(t);n.widgetType="aggregate",e.success(n)};this.jsonRequest(e,"/aggregate",n,t,"aggregate")},o.Transparency.ApiClient.prototype.getSectionComments=function(e){t(this.goToUrl("/section/comments",e.sectionId),{error:e.error,success:function(t){e.success(new i.Comments(t))}})},o.Transparency.ApiClient.prototype.getSections=function(t,n){var o="rating";this.config.isCommentsOnly?o="comments":this.config.isQuestionsOnly&&(o="questions");var r=function(n){var r=e.map(n.sections,function(e){return e.provider=n.provider,new i.Section(e,t.client)});r.widgetType=o,r.provider=n.provider,t.success(r)};this.jsonRequest(t,"/sections",r,n,o)}}(),function(){"use strict";var e=ProviderConnections.Transparency.DomModels,t=ProviderConnections.Transparency.Models,n=ProviderConnections.Tools.Dom;e.Aggregate=function(e,t){var o=this;o.client=e,o.target=t,e.getAggregate({error:function(e){n.remove(t),o.client.config.onResponse&&o.client.config.onResponse(e)},success:function(e){o.client.imageObj=new Image,o.client.imageObj.onload=function(){t.appendChild(o.createElement(e)),t.className+=" px-fadeIn"},o.client.imageObj.onerror=function(){o.client.imageObj.className="failedLoad",t.appendChild(o.createElement(e)),t.className+=" px-fadeIn"},o.client.imageObj.src=o.client.config.host+"/content/images/transparency/stars-stroke.png",o.client.config.onResponse&&o.client.config.onResponse(e)}})},e.Aggregate.prototype.createElement=function(o){var i=this,r=i.client.config,a="",s="",c=r.includeMicrodata!==t.MicroDataType.None,l=o.fiveStarRating;o.numberOfRatings>1&&(a="s"),o.numberOfComments>1&&(s="s");var m="Font"===i.client.config.starType?new e.FontStarBarModel(l,i.client,i.target):new e.ImageStarBarModel(l,i.client);return n.create("table",{itemscope:{value:"itemscope",includeProp:r.includeMicrodata==t.MicroDataType.Partial?!1:c},itemtype:{value:"https://schema.org/Physician",includeProp:r.includeMicrodata==t.MicroDataType.Partial?!1:c}},n.create("tbody",{itemscope:{value:"itemscope",includeProp:c},id:"px-aggregate-"+r.providerMicroDataId,itemprop:{value:"aggregateRating",includeProp:c},itemtype:{value:"https://schema.org/AggregateRating",includeProp:c},className:"px-star-ratingcontainer"},n.create("tr",n.create("td",{className:"px-ratingHolder"},m.fragment,n.create("em",{className:"px-summarytext"},n.create("span",{className:"px-aggregate-ratings-container"},n.create("span",{className:"px-aggregate-ratings-starrating",itemprop:{value:"ratingValue",includeProp:c}},l+""),n.create("span",{className:"px-aggregate-ratings-outof"}," out of "),n.create("span",{className:"px-aggregate-ratings-bestrating",itemprop:{value:"bestRating",includeProp:c}},"5"),n.create("span",{className:"px-aggregate-ratings-comments-counts"},n.create("span"," ("),n.create("span",{className:"px-aggregate-ratings-totalratings-count",itemprop:{value:"ratingCount",includeProp:c}},o.numberOfRatings+""),n.create("span",{className:"px-aggregate-ratings-totalratings-count-text"}," Rating"+a),n.create("span",{className:"px-aggregate-ratings-total-comments-container"},", ",n.create("span",{className:"px-aggregate-ratings-totalcomments-count",itemprop:{value:"reviewCount",includeProp:c}},o.numberOfComments+"")," Comment"+s,function(){return o.numberOfComments?!0:!1}),")"))),n.create("meta",{itemProp:"worstRating",content:"0"},function(){return c}),n.create("meta",{itemprop:"itemReviewed",content:r.microDataItemReviewed},function(){return c&&r.microDataItemReviewed})))))}}(),function(){"use strict";function e(e,n){e.client.imageObj=new Image,e.client.imageObj.onload=function(){t(e,n)},e.client.imageObj.onerror=function(){e.client.imageObj.className="failedLoad",t(e,n)},e.client.imageObj.src=e.host+"/content/images/transparency/stars-stroke.png"}function t(e,t){var r="px-rating-";r=e.client.config.isCommentsOnly?"px-ratings-comments-":r,r=e.client.config.isQuestionsOnly?"px-ratings-questions-":r;var s=e.container.appendChild(a("div",{id:r+e.client.config.providerMicroDataId,className:"px-cf",itemscope:{value:"itemscope",includeProp:e.client.config.includeMicrodata==o.MicroDataType.Partial?!1:e.includeMicrodata},itemtype:{value:"https://schema.org/Physician",includeProp:e.client.config.includeMicrodata==o.MicroDataType.Partial?!1:e.includeMicrodata}}));e.sections=new n.SectionsDomModel(t,e.client,e.container),s.appendChild(e.sections.fragment),e.container.className+=" px-fadeIn",i.topLinkVisiblity()}var n=ProviderConnections.Transparency.DomModels,o=ProviderConnections.Transparency.Models,i=ProviderConnections.Transparency.DomModels.TopLinkHelper,r=ProviderConnections.Tools.Dom,a=r.create;n.DetailsPage=function(t,n){var i=this;i.container=n,i.client=t,i.host=t.config.host,i.includeMicrodata=t.config.includeMicrodata!==o.MicroDataType.None,t.getSections({success:function(n){e(i,n),t.config.onResponse&&t.config.onResponse(n)},error:function(e){r.remove(i.container),t.config.onResponse&&t.config.onResponse(e)},client:t})}}(),function(){"use strict";var e=ProviderConnections.Transparency.DomModels,t=ProviderConnections.Tools.Dom,n=ProviderConnections.Transparency.Models;e.Rollup=function(e,n){var o=this;o.client=e,e.getRollup({error:function(e){t.remove(n),o.client.config.onResponse&&o.client.config.onResponse(e)},success:function(e){o.client.imageObj=new Image,o.client.imageObj.onload=function(){n.appendChild(o.createElement(e)),n.className+=" px-fadeIn"},o.client.imageObj.onerror=function(){o.client.imageObj.className="failedLoad",n.appendChild(o.createElement(e)),n.className+=" px-fadeIn"},o.client.imageObj.src=o.client.config.host+"/content/images/transparency/stars-stroke.png",o.client.config.onResponse&&o.client.config.onResponse(e)
}})},e.Rollup.prototype.createElement=function(o){var i=this,r=i.client.config,a="",s=o.overallRating,c=r.includeMicrodata!==n.MicroDataType.None,l="Font"===i.client.config.starType?new e.FontStarBarModel(s,i.client,i.target):new e.ImageStarBarModel(s,i.client);return o.totalRatings>1&&(a="s"),t.create("table",{id:"px-rating-rollup-"+r.query,itemscope:{value:"itemscope",includeProp:r.includeMicrodata==n.MicroDataType.Partial?!1:c},itemtype:{value:"https://schema.org/MedicalOrganization",includeProp:r.includeMicrodata==n.MicroDataType.Partial?!1:c}},t.create("tbody",{itemscope:{value:"itemscope",includeProp:c},itemprop:{value:"aggregateRating",includeProp:c},itemtype:{value:"https://schema.org/AggregateRating",includeProp:c},className:"px-star-ratingcontainer"},t.create("tr",t.create("td",{className:"px-ratingHolder"},l.fragment,t.create("em",{className:"px-summarytext"},t.create("span",t.create("span",{itemprop:{value:"ratingValue",includeProp:c}},s+""),t.create("span"," out of "),t.create("span",{itemprop:{value:"bestRating",includeProp:c}},"5"),t.create("span",{className:"px-rollup-ratings-counts"},t.create("span"," ("),t.create("span",{itemprop:{value:"ratingCount",includeProp:c}},o.totalRatings+""),t.create("span"," Rating"+a+")")))),t.create("meta",{itemprop:"itemReviewed",content:r.microDataItemReviewed},function(){return c&&r.microDataItemReviewed}),t.create("meta",{itemProp:"worstRating",content:"0"},function(){return c})))))}}(),function(){"use strict";var e=ProviderConnections.Tools.Dom,t=e.create,n=ProviderConnections.Transparency.DomModels;n.FontStarBarModel=function(e,t,n){this.score=e,this.client=t,this.config=t.config,this.target=n,this.fragment=this.createStars(),this.starSize=0},n.FontStarBarModel.prototype.createStars=function(){var e=0,n="",o=t("div",{className:"px-star-rating text-based"}),i=this.getStarFills(this.score);for(e=0;5>e;e++)n="px-star",n+=0===e?" first-star":"",n+=4===e?" last-star":"",o.appendChild(this.createStar(i[e],{className:n}));return o},n.FontStarBarModel.prototype.createStar=function(e,n){return t("span",n,t("span",{className:"px-star-container"},t("span",{className:"px-star-bg px-icon",style:{color:this.config.backgroundColor}}),t("span",{className:" px-star-fill px-icon",style:{width:e+"%",color:this.config.foregroundColor}})))},n.FontStarBarModel.prototype.getStarFills=function(){for(var e=[],t=0;5>=t;t++){var n=this.score-t,o=Math.max(n,0),i=Math.min(o,1);e.push(100*i)}return e}}(),function(){"use strict";var e=ProviderConnections.Tools.Dom,t=e.create,n=ProviderConnections.Transparency.DomModels;n.ImageStarBarModel=function(e,t,n){this.score=e,this.client=t,this.config=t.config,this.actualImageWidth=127,this.actualStarWidth=22,this.imageHeight=n?20:26,this.imageWidth=n?100:127,this.fragment=this.createElement()},n.ImageStarBarModel.prototype.getStarFill=function(){var e=5*this.actualStarWidth,t=(this.actualImageWidth-e)/6,n=Math.ceil(this.score);return(this.score*this.actualStarWidth+n*t)*(this.imageWidth/this.actualImageWidth)},n.ImageStarBarModel.prototype.createElement=function(){var n=this.getStarFill(),o=this.score+" out of 5",i=this,r=e.create("div",{className:"px-active-color",style:{width:n+"px",borderBottomColor:this.config.foregroundColor}}),a=e.create("div",{className:"px-star-images"},e.create("img",{style:{width:this.imageWidth+"px",height:this.imageHeight+"px"},alt:o,src:this.client.imageObj.src}));return this.fragment=t("div",{className:"px-star-rating image-based",style:{borderBottomColor:this.config.backgroundColor}},function(){return"failedLoad"!=i.client.imageObj.className}),this.fragment.appendChild(r),this.fragment.appendChild(a),this.fragment}}(),function(){"use strict";function e(e,t,n){return e.isResponsive!==!1&&(e.isResponsive=!g.isIE8OrBelow()),e.isCommentsOnly=!1,e.isQuestionsOnly=!1,"comments"===n&&(e.isCommentsOnly=!0),"questions"===n&&(e.isQuestionsOnly=!0),"rollup"===n&&(e.isRollup=!0),function(n){n.className+=e.isResponsive?" px-responsive":" px-non-responsive";var o=n.getAttribute("data-providerId"),i=n.getAttribute("data-npi"),a=n.getAttribute("data-query")||"",s=n.getAttribute("data-microDataItemReviewed");if(s&&(s=s.trim(),0==s.length&&(s=null)),o||i||e.isRollup){var c=new d.ApiClient({host:e.host?e.host:r(),query:a,npi:i,starType:e.starType,providerId:o,providerMicroDataId:i?i:o,foregroundColor:e.foregroundColor,backgroundColor:e.backgroundColor,ratingRounding:e.ratingRounding,ratingCount:e.minimumRatings,commentCount:e.minimumComments,delayBeforeDisplaying:e.delayBeforeDisplaying,showDelayedComments:e.showDelayedComments,starCount:e.minimumStars,includeMicrodata:e.includeMicrodata,commentPageSize:e.commentPageSize,includeHistogram:e.includeHistogram,includeSentiment:e.includeSentiment,isCommentsOnly:e.isCommentsOnly,isQuestionsOnly:e.isQuestionsOnly,onResponse:e.onResponse,histogramStyle:e.histogramStyle,microDataItemReviewed:s,sentimentDataOption:e.sentimentDataOption,sentimentIconOption:e.sentimentIconOption});t(n,c)}}}function t(e,t){switch(e.includeMicrodata=n(e.includeMicrodata,t),e.includeHistogram="undefined"!=typeof e.includeHistogram?e.includeHistogram:!0,e.includeHistogram=o(e.includeHistogram),"boolean"!=typeof e.includeHistogram&&(e.includeHistogram=!0),e.includeSentiment="undefined"!=typeof e.includeSentiment?e.includeSentiment:!0,e.includeSentiment=o(e.includeSentiment),"boolean"!=typeof e.includeSentiment&&(e.includeSentiment=!0),e.histogramStyle="undefined"!=typeof e.histogramStyle?e.histogramStyle.toLowerCase():"",e.showDelayedComments=o(e.showDelayedComments),"string"==typeof e.showDelayedComments&&(e.showDelayedComments=e.showDelayedComments.toLowerCase()),e.showDelayedComments){case!0:e.showDelayedComments=1;break;case"delayedonly":e.showDelayedComments=2;break;case!1:default:e.showDelayedComments=0}}function n(e,t){if(0==t.ratings.length&&0==t.ratingsComments.length&&0==t.rollups.length&&0==t.aggregates.length)e=f.MicroDataType.None;else switch(e=o(e)){case f.MicroDataType.None:case f.MicroDataType.Partial:case f.MicroDataType.Full:break;case!0:e=f.MicroDataType.Partial;break;case!1:e=f.MicroDataType.None;break;default:e=f.MicroDataType.Full}return e}function o(e){return"string"==typeof e&&(e=e.toLowerCase(),"false"===e&&(e=!1),"true"===e&&(e=!0)),e}function i(e){if(!e.className)return!1;var t=e.className.toLowerCase(),n=t.split(" "),o=0,i=0;for(o;o<n.length;o++){if(("px-rating"===n[o]||"px-rating-aggregate"===n[o]||"px-rating-comments"===n[o]||"px-rating-questions"===n[o])&&e.hasAttribute("data-query"))return!1;("px-rating"===n[o]||"px-rating-aggregate"===n[o]||"px-rating-rollup"===n[o]||"px-rating-comments"===n[o]||"px-rating-questions"===n[o])&&i++}return i>1?!1:!0}function r(){var e,t=0,n=document.getElementsByTagName("script");for(t;t<n.length;t++){var o=n[t].getAttribute("src");if(o=o?o.toLowerCase():null,o&&(o.indexOf("transparency.js")>-1||o.indexOf("transparency.min.js")>-1)){e=document.createElement("a"),e.href=o;var i=e.href.split("/scripts")[0];return i}}}function a(e,n){t(e,n),l(e,n),m(e,n)}function s(e,t){var n=(r(),e+"/widgetConfig");t&&(n+="?useDefaultFont=true");var o=document.createElement("link");o.href=n,o.type="text/css",o.rel="stylesheet",o.media="screen",document.getElementsByTagName("head")[0].appendChild(o)}function c(e,t,n){var o=e+"/settings";t&&(o+="?useDefaultFont=true"),h.Jsonp(o,{error:n.error,success:function(e){n.success(e,!0)}})}var l,m,p=ProviderConnections.Tools.Array,d=ProviderConnections.Transparency,u=ProviderConnections.Tools.Dom,g=ProviderConnections.Tools.Helpers,f=ProviderConnections.Transparency.Models,h=ProviderConnections.Tools.Ajax,v=ProviderConnections.Transparency.DomModels.TopLinkHelper;v.topLinkEventListeners(),l=function(t,n){n.ratings.length>0&&p.each(n.ratings,e(t,function(e,n){i(e)&&t.jsonOut?n.getSections(t.jsonOut,!0):i(e)&&new d.DomModels.DetailsPage(n,e)},"questionsComments")),n.ratingsComments.length>0&&p.each(n.ratingsComments,e(t,function(e,n){i(e)&&t.jsonOut?n.getSections(t.jsonOut,!0):i(e)&&new d.DomModels.DetailsPage(n,e)},"comments")),n.ratingsQuestions.length>0&&p.each(n.ratingsQuestions,e(t,function(e,n){i(e)&&t.jsonOut?n.getSections(t.jsonOut,!0):i(e)&&new d.DomModels.DetailsPage(n,e)},"questions"))},m=function(t,n){n.aggregates.length>0&&p.each(n.aggregates,e(t,function(e,n){i(e)&&t.jsonOut?n.getAggregate(t.jsonOut,!0):i(e)&&new d.DomModels.Aggregate(n,e)},"aggregate")),n.rollups.length>0&&p.each(n.rollups,e(t,function(e,n){i(e)&&t.jsonOut?n.getRollup(t.jsonOut,!0):i(e)&&new d.DomModels.Rollup(n,e)},"rollup"))},d.init=function(e){var t=new Object;t.ratings=u.getByClass("px-rating"),t.ratingsComments=u.getByClass("px-rating-comments"),t.ratingsQuestions=u.getByClass("px-rating-questions"),t.rollups=u.getByClass("px-rating-rollup"),t.aggregates=u.getByClass("px-rating-aggregate");var n=e.host?e.host:r(),o=n+"/webfeed/transparency/v2";c(o,e.useDefaultFont,{success:function(n){e.starType=n.type,e.sentimentDataOption=n.sentimentDataOption,e.sentimentIconOption=n.sentimentIconOption,"Font"===e.starType&&s(o,e.useDefaultFont),a(e,t)},error:function(){e.starType="Font",e.sentimentDataOption="PG",e.sentimentIconOption="Img",a(e,t)}})},d.initializeWidget=function(e){"complete"===document.readyState?d.init(e):g.onload(function(){d.init(e)})}}();